# Gumbo-isNovel

Last update time: 2018-11

利用url和html的title判断网页是否是小说页。这是一道面试题，网页和网址的数据已经不在了，所以暂时不会进行更新。可能以后有兴趣学学网页爬虫去爬一些网页，作为后续改进的测试数据集。

./src/test/ 目录下是原有工程文件中example的调试，./novel/目录下是html目录和（筛选前后）样本。

> 1. 按照1/20的比例选取样本。
> 2. 根据 *url* 中出现的单词，为该 *url* 分配权重。例如：检测到 “*xiaoshuo*”，则该 *url* 的权重 += 0.4；检测到 “*blog*”，则该url的权重-=0.4。
> 3. 提取 *html* 中的 *title* ，根据 *title* 中出现的单词，为该 *html* 分配权重。例如：检测到 “*txt下载*”，则该 *html*的权重 += 0.4；检测到 “*购物*”，则该 *html* 的权重 -= 0.4。
> 4. ~~尝试做了一下全文匹配，垃圾的一笔；另外用纯文本的字数做了一下简单判别。~~
> 5. 合并检测 *url* 和 *html* 的权重，二者所占比例为 1：1。
> 6. 分别计算出筛选出的正负样本的平均权重。
> 7. 在Novel构造函数中遍历得到最优的判定阈值~~(没有搞过ML，精确度和召回率什么的凭感觉用了一下)。~~
> 8. 在Novel::judgement()完成所有网页的判别。

把 Gumbo 库里面的 example 跑通后以为不会太麻烦，就去看 Google Test ~~（居然有这种东西，毕竟想过毕业做TE）。~~ 

存在的问题：

>1. 原始数据中 *html* 的 *url* 和文件是分开的，为了合并权重做了浩大的排序。
>2. 字符串匹配太low了，起码学学正则表达式（不知道能快多少）。
>3. 重复代码太多，缺乏认真设计和思考。
>4. C/C++混用，风格混乱，极度不适。
>5. 欠缺深入的挖掘，如网页中的超链接等。
